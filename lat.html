<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Love ‚ù§Ô∏è</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Georgia, serif;
            background: linear-gradient(-45deg, #ff6b9d, #c06c84, #6c5ce7, #a29bfe, #fd79a8, #fdcb6e);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* FLOATING HEARTS BACKGROUND */
        .floating-hearts {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }

        .floating-heart {
            position: absolute;
            font-size: 20px;
            animation: floatUp 12s linear infinite;
            opacity: 0;
            cursor: pointer;
            pointer-events: auto;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) scale(0);
                opacity: 0;
            }
            10% { opacity: 0.7; }
            90% { opacity: 0.7; }
            100% {
                transform: translateY(-100px) scale(1.5);
                opacity: 0;
            }
        }

        .screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 1s, transform 1s;
            z-index: 100;
        }

        .screen.hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(0.9);
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            padding: 60px 50px;
            border-radius: 25px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
            text-align: center;
            max-width: 550px;
            width: 90%;
        }

        .envelope-box {
            margin: 0 auto 50px;
            width: 280px;
            height: 200px;
            position: relative;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .envelope {
            position: relative;
            width: 280px;
            height: 200px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 20px 50px rgba(255, 105, 180, 0.4);
        }

        .flap {
            position: absolute;
            top: 0;
            left: 0;
            border-left: 140px solid transparent;
            border-right: 140px solid transparent;
            border-top: 100px solid #ff69b4;
            transition: transform 0.8s ease;
            transform-origin: top;
            z-index: 2;
        }

        .envelope.open .flap {
            transform: rotateX(180deg);
        }

        .letter-preview {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 240px;
            height: 160px;
            background: linear-gradient(135deg, #fff, #ffe6f0);
            border: 3px solid #ff69b4;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            transition: transform 0.8s ease;
        }

        .envelope.open .letter-preview {
            transform: translateY(-50px);
        }

        h1 {
            font-size: 3em;
            color: #ff1493;
            margin-bottom: 30px;
        }

        h2 {
            font-size: 2.5em;
            color: #ff1493;
            margin-bottom: 20px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
        }

        .question {
            font-size: 2em;
            color: #ff1493;
            font-weight: bold;
            margin: 20px 0;
        }

        .hint {
            font-size: 1.1em;
            color: #888;
            font-style: italic;
            margin-bottom: 30px;
        }

        input {
            width: 100%;
            padding: 18px;
            font-size: 1.3em;
            border: 3px solid #ff69b4;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 25px;
            font-family: Georgia, serif;
            transition: all 0.3s;
        }

        input:focus {
            outline: none;
            border-color: #ff1493;
            box-shadow: 0 0 20px rgba(255, 20, 147, 0.3);
        }

        button {
            padding: 18px 45px;
            font-size: 1.3em;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            background: linear-gradient(135deg, #ff1493, #ff69b4);
            color: white;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.4);
            transition: all 0.3s;
            font-family: Georgia, serif;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 20, 147, 0.5);
        }

        .error-msg {
            color: #ff4444;
            font-size: 1.2em;
            margin-top: 15px;
            font-weight: bold;
            display: none;
        }

        .error-msg.show {
            display: block;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .crown {
            font-size: 5em;
            margin-bottom: 20px;
            animation: rotate-crown 2s ease-in-out infinite;
            display: inline-block;
        }

        @keyframes rotate-crown {
            0%, 100% { transform: rotate(-10deg); }
            50% { transform: rotate(10deg); }
        }

        /* SIDEBAR INTERACTIVE HEARTS */
        .sidebar-hearts {
            position: fixed;
            bottom: 50px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 200;
        }

        .side-heart {
            font-size: 3em;
            cursor: pointer;
            transition: all 0.3s;
            filter: drop-shadow(0 5px 15px rgba(255, 105, 180, 0.4));
            animation: bounce 2s ease-in-out infinite;
        }

        .side-heart:hover {
            transform: scale(1.4) rotate(20deg);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* POPUP MESSAGE */
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 50px;
            border-radius: 25px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
            z-index: 300;
            text-align: center;
            transition: transform 0.5s;
        }

        .popup.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .popup h2 {
            color: #ff1493;
            margin-bottom: 20px;
        }

        .popup button {
            margin-top: 20px;
        }

        /* MAIN LETTER */
        .letter-main {
            position: relative;
            max-width: 850px;
            margin: 80px auto;
            padding: 70px 60px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
            display: none;
            z-index: 50;
        }

        .letter-main.show {
            display: block;
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .letter-top {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 40px;
            border-bottom: 2px solid rgba(255, 105, 180, 0.3);
        }

        .letter-top h1 {
            font-size: 3.5em;
            color: #ff1493;
            margin-bottom: 15px;
        }

        .letter-top p {
            font-size: 1.3em;
            color: #888;
            font-style: italic;
        }

        .letter-text {
            line-height: 2.1;
            font-size: 1.2em;
            color: #333;
            text-align: justify;
        }

        .letter-text p {
            margin-bottom: 28px;
        }

        .letter-text strong {
            color: #ff1493;
            font-weight: bold;
        }

        .letter-sign {
            margin-top: 60px;
            text-align: right;
            font-size: 2em;
            color: #ff1493;
            font-style: italic;
            padding-top: 40px;
            border-top: 2px solid rgba(255, 105, 180, 0.3);
        }

        .heart-beat {
            display: inline-block;
            animation: beating 1.5s ease infinite;
        }

        @keyframes beating {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.2); }
        }

        .sparkle {
            position: fixed;
            pointer-events: none;
            font-size: 2em;
            animation: sparkleAnim 1s ease-out forwards;
            z-index: 9999;
        }

        @keyframes sparkleAnim {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: scale(2) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .card { padding: 40px 30px; }
            h1 { font-size: 2.3em; }
            .letter-main { padding: 50px 35px; margin: 40px 20px; }
            .letter-top h1 { font-size: 2.5em; }
            .letter-text { font-size: 1.1em; }
            .sidebar-hearts { bottom: 30px; right: 20px; }
            .side-heart { font-size: 2.5em; }
        }
    </style>
</head>
<body>
    <!-- FLOATING HEARTS -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- START SCREEN -->
    <div class="screen" id="screen1">
        <div class="card">
            <div class="envelope-box">
                <div class="envelope" id="env">
                    <div class="flap"></div>
                    <div class="letter-preview">üíå</div>
                </div>
            </div>
            <h1>A Letter From My Heart</h1>
            <p class="subtitle">Something special for you...</p>
            <button onclick="openEnv()">üíå Open With Love üíå</button>
        </div>
    </div>

    <!-- QUIZ SCREEN -->
    <div class="screen hidden" id="screen2">
        <div class="card">
            <h2>üíù Before We Continue üíù</h2>
            <p class="question">My Song?</p>
            <p class="hint">üí≠ Hint: Enter the month</p>
            <input type="text" id="ans" placeholder="Type your answer..." onkeypress="if(event.key==='Enter') checkAns()">
            <button onclick="checkAns()">Submit ‚ú®</button>
            <p class="error-msg" id="err">‚ùå Try again, my love!</p>
        </div>
    </div>

    <!-- SUCCESS SCREEN -->
    <div class="screen hidden" id="screen3">
        <div class="card">
            <div class="crown">üëë</div>
            <h2>Yeah! You're The Queen! üëë</h2>
            <p class="subtitle">You know me so well, my love! üíï<br>You truly are my everything!</p>
            <button onclick="showLtr()">Continue to My Letter üíå</button>
        </div>
    </div>

    <!-- SIDEBAR HEARTS (FUN INTERACTIVE PART) -->
    <div class="sidebar-hearts">
        <div class="side-heart" onclick="clickHeart(this)">‚ù§Ô∏è</div>
        <div class="side-heart" onclick="clickHeart(this)" style="animation-delay: 0.3s;">üíñ</div>
        <div class="side-heart" onclick="clickHeart(this)" style="animation-delay: 0.6s;">üíù</div>
    </div>

    <!-- POPUP MESSAGE (FUN PART) -->
    <div class="popup" id="popup">
        <h2>You're Amazing! üíï</h2>
        <p>Thank you for reading my heart!<br>I love you more than anything! ‚ú®</p>
        <button onclick="closePopup()">Close ‚ù§Ô∏è</button>
    </div>

    <!-- YOUR COMPLETE LETTER -->
    <div class="letter-main" id="mainLetter">
        <div class="letter-top">
            <h1>To My Love <span class="heart-beat">‚ù§Ô∏è</span></h1>
            <p>Words from my heart to yours</p>
        </div>
        <div class="letter-text">
            <p>There's something I've been wanting to say with complete honesty, and I hope you can hear my heart in these words.</p>

            <p><strong>I'm truly sorry.</strong></p>

            <p>I know I've made mistakes‚Äîmistakes that hurt you, created misunderstandings, and brought unnecessary pain into our relationship. I've replayed everything in my mind so many times, wishing I could take back the moments where I didn't understand you, didn't listen the way I should have, or reacted in ways that weren't fair to you.</p>

            <p>I want you to know that I recognize where I went wrong. I'm not trying to make excuses. I'm taking responsibility for my actions, because you deserve honesty, respect, and love without confusion or hurt.</p>

            <p>I am deeply sorry for the misunderstandings that came between us, for the times you felt unheard or unvalued, and for any moment where my behavior made you feel less than the incredible person you are. You mean so much to me, and thinking about how my mistakes affected you truly hurts.</p>

            <p>I promise you this‚Äîfrom my heart: I will never repeat those mistakes. I'm committed to learning, growing, and becoming a better man for you and for us. You deserve someone who treats you with care, patience, and understanding, and I want to be that person consistently.</p>

            <p>Thank you for the love you've given me, for the moments we've shared, and for still being someone I care about more deeply than words can express. I don't want misunderstandings or past mistakes to define us. I want us to move forward stronger, with clearer communication, more trust, and the love that brought us together in the first place.</p>

            <p><strong>I love you, and I'm truly sorry.</strong></p>

            <p class="letter-sign">Forever Yours,<br>Suryash <span class="heart-beat">‚ù§Ô∏è</span></p>
        </div>
    </div>

    <script>
        // Create floating hearts
        function createFloatingHeart() {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó'][Math.floor(Math.random() * 4)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 5 + 8) + 's';
            heart.style.fontSize = (Math.random() * 10 + 15) + 'px';

            heart.addEventListener('click', function(e) {
                createSparkle(e.clientX, e.clientY);
                confetti({
                    particleCount: 30,
                    spread: 60,
                    origin: { 
                        x: e.clientX / window.innerWidth, 
                        y: e.clientY / window.innerHeight 
                    }
                });
            });

            document.getElementById('floatingHearts').appendChild(heart);
            setTimeout(() => heart.remove(), 13000);
        }

        setInterval(createFloatingHeart, 400);

        // Create sparkles
        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.innerHTML = ['‚ú®', '‚≠ê', 'üí´', 'üåü'][Math.floor(Math.random() * 4)];
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            document.body.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 1000);
        }

        // Open envelope
        function openEnv() {
            document.getElementById('env').classList.add('open');

            const duration = 3000;
            const end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#ff1493', '#ff69b4', '#ffd700']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#ff1493', '#ff69b4', '#ffd700']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());

            setTimeout(function() {
                document.getElementById('screen1').classList.add('hidden');
                setTimeout(function() {
                    document.getElementById('screen2').classList.remove('hidden');
                    document.getElementById('ans').focus();
                }, 500);
            }, 1500);
        }

        // Check answer
        function checkAns() {
            const input = document.getElementById('ans');
            const answer = input.value.trim().toLowerCase();
            const error = document.getElementById('err');

            if (answer === 'january') {
                error.classList.remove('show');

                const duration = 3000;
                const end = Date.now() + duration;

                (function frame() {
                    confetti({
                        particleCount: 10,
                        angle: 60,
                        spread: 55,
                        origin: { x: 0 },
                        colors: ['#ff1493', '#ff69b4', '#ffd700']
                    });
                    confetti({
                        particleCount: 10,
                        angle: 120,
                        spread: 55,
                        origin: { x: 1 },
                        colors: ['#ff1493', '#ff69b4', '#ffd700']
                    });

                    if (Date.now() < end) {
                        requestAnimationFrame(frame);
                    }
                }());

                setTimeout(function() {
                    document.getElementById('screen2').classList.add('hidden');
                    setTimeout(function() {
                        document.getElementById('screen3').classList.remove('hidden');
                    }, 500);
                }, 800);
            } else {
                error.classList.add('show');
                input.value = '';
                setTimeout(function() {
                    error.classList.remove('show');
                }, 2000);
            }
        }

        // Show letter
        function showLtr() {
            document.getElementById('screen3').classList.add('hidden');

            setTimeout(function() {
                document.getElementById('mainLetter').classList.add('show');
                document.getElementById('mainLetter').scrollIntoView({ behavior: 'smooth' });

                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#ff1493', '#ff69b4', '#ffd700']
                });
            }, 500);
        }

        // Sidebar hearts click
        let heartClicks = 0;
        function clickHeart(element) {
            heartClicks++;

            confetti({
                particleCount: 80,
                spread: 70,
                origin: { x: 0.9, y: 0.7 },
                colors: ['#ff1493', '#ff69b4', '#ffd700']
            });

            element.style.transform = 'scale(1.5) rotate(360deg)';
            setTimeout(() => {
                element.style.transform = '';
            }, 500);

            if (heartClicks === 3) {
                document.getElementById('popup').classList.add('show');
                confetti({
                    particleCount: 150,
                    spread: 120,
                    origin: { y: 0.6 }
                });
            }
        }

        function closePopup() {
            document.getElementById('popup').classList.remove('show');
            heartClicks = 0;
        }

        // Click anywhere for sparkles
        document.addEventListener('click', function(e) {
            if (e.target.tagName !== 'BUTTON' && 
                e.target.tagName !== 'INPUT' &&
                !e.target.classList.contains('side-heart')) {
                createSparkle(e.clientX, e.clientY);
            }
        });
    </script>
</body>
</html>